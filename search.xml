<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[git常用命令大全]]></title>
    <url>%2F2018%2F08%2F31%2Fgit%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C%E5%A4%A7%E5%85%A8%2F</url>
    <content type="text"><![CDATA[记录日常工作中常用git命令，以便备忘查询 初始化git仓库 git initgit init 添加文件到Git仓库 git add 、 git commit分两步： 第一步，使用命令git add 文件名 ，将指定文件添加到版本库的暂存状态。注意，可反复多次使用，添加多个文件；也可以直接 git add . 代表添加所有改变的文件 第二步，使用命令 git commit -m &#39;自定义的提交说明&#39; 将暂存区的文件提交到版本库的分支 我们需要知道Git把管理的文件分为了两个区域四个状态 工作区：当前开发程序所在目录称为工作区，即：工作开发都是在该目录，该区域的文件会有状态的变化且状态由git自动检测，如果程序中文件做任何操作（增、删、改），文件状态均会被检测到，可以使用 【git status】命令查看。 版本库 工作区检测到有文件发生变化，那么意味着较上一个版本之后对程序进行了修改，修改完成之后，可以当做下一版本进行提交，那么就是执行 【git add .】 将所有文件提交到暂存区，然后再执行【git commit -m ‘又一个版本’】提交到版本库的分支即可，之后可以使用【git log】命令查看版本记录。 查看当前仓库状态 git status我们可以用 git status 来查看当前Git仓库状态,如：那些文件被修改过、那些文件还未提交到版本库等。 查看提交的版本记录 git log、 git refloggit log， 命令显示从最近到最远的提交日志，即：历史版本记录 git reflog，用来查看执行回退命令后，在 git log中未显示的记录 查看修改内容 git diff假设我们已经成功地添加并提交了一个readme.txt文件，现在，继续工作了，我们继续修改readme.txt文件 此时，我们使用git status 命令， 可以发现readme.txt文件已经被修改了，但还未提交，但是具体修改了什么，我们无法得知，加入我们此时将其放置，一两周后再回来看，可能会不记得之前改动了什么，此时我们可以使用 git diff readme.txt 来查看readme.txt 文件里修改的内容确定了我们修改了什么内容以后，我们就可以放心大胆的git add . 然后git commit -m&#39;修改readme.txt&#39; 提交此次修改了 要随时掌握工作区的状态，使用 git status 命令。•如果 git status 告诉你有文件被修改过，用 git diff 可以查看修改内容。 版本回退在Git中，用HEAD表示当前版本，也就是最新的提交版），上一个版本就是HEAD^ ，上上一个版本就是HEAD^^，当然往上100 个版本写100个^比较容易数不过来，所以写成HEAD~100。 比如当前版本id为4,我们想跳到上一个版本3去，可以使用下面的命令 回退到上一个版本 git reset --hard HEAD^git reset --hard HEAD^ 或直接指定具体版本 git reset --hard 3 回退到具体版本 git reset --hard commit_id一旦我们执行了回退操作，则 git log中将看不到当前回退到的版本之后的所有版本信息 要想在回退后，看到当前版本之后的信息需要用到git reflog 如果现在又想跳回去，可以使用git reset --hard 4 小结 HEAD指向的版本就是当前版本，因此，Git允许我们在版本的历史之间穿梭，使用命令 git reset --hard commit_id 。 穿梭前，用 git log 可以查看提交历史，以便确定要回退到哪个版本。 要重返未来，用 git reflog 查看命令历史，以便确定要回到未来的哪个版本。 撤销工作区的修改git checkout --文件名有时我们不小心写了很多无用的东西，想丢弃工作区的修改，可以使用git checkout --文件名 命令 git checkout -- readme.txt 意思就是，把readme.txt文件在工作区的修改全部撤销，这里有两种情况： 一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态； 一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。总之，就是让这个文件回到最近一次 git commit 或 git add 时的状态 当我们工作区中的内容不小心 git add 了（但是没有git commit），进入了暂存区时，此时要想撤销修改，则需要用到下面的命令 撤销暂存区的修改 git reset HEAD 文件名用命令 git reset HEAD file 可以把暂存区的修改撤销掉（unstage），重新放回工作区：git reset 命令既可以回退版本，也可以把暂存区的修改回退到工作区。当我们用HEAD时，表示最新的版本。再用 git status 查看一下，现在暂存区是干净的，工作区有修改还记得如何丢弃工作区的修改吗？git checkout -- 文件名 此时再用 git status，则是干净的 小结 场景1：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令 git checkout -- file。 场景2：当你不但改乱了工作区某⽂文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令 git reset HEAD file ，就回到了场景1，第二步按场景1操作。 场景3：已经提交了不合适的修改到版本库时，想要撤销本次提交，则使用git reset --hard commit_id，不过前提是没有推送到远程库。 删除文件 git rm 在Git中，删除也是一个修改操作,当我们直接在文件管理器中删除git仓库所在目录下的文件，或者直接通过rm 文件名来删除某个文件时，git会将其认定为一个修改操作，这样会造成工作区和版本库中不一致，此时有两种情况，根据我们的需求来进行选择 情况1：如果我们确实是想从版本库中删除该文件，那么就用git rm 文件名 命令来进行删除，然后 git commit -m&#39;删除某文件&#39; ，提交此次删除，这样，该文件就从版本库中被删除了 情况2: 不小心误删了，由于版本库中还存在，我们可以直接将误删的文件恢复到版本库中该文件的最新版本，使用命令git checkout -- 文件名,git checkout 其实是用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”。但是需要注意的是：这种方法只能恢复文件到最新版本，但会丢失最近一次提交后你修改的内容。 分支管理创建分支 git branch 分支名切换分支 git checkout 分支名也可以直接使用一条命令，来完成上面两个命令的操作 创建并切换分支 git checkout -b 分支名查看当前所属分支 git branchgit branch 命令会列出所有分支，当前分支前面会标一个*号。 合并分支 git merge 分支名比如：我们当前所在分支为master，我们要想将dev分支中的内容合并到master中来，就在master分支下，使用命令 git merge dev 即可 git merge 命令用于合并指定分支到当前分支。合并后，就可以看到，当前master分支和dev分支的最新提交是完全一样的。 注意到,默认情况下,git会采用Fast-forward方式进行合并，即“快进模式”，也就是直接把master指向dev的当前提交，所以合并速度非常快。当然，也不是每次合并都能Fast-forward（比如当我们合并时产生了冲突，需要解决冲突时，就无法使用”快进模式”了） 解决合并冲突之所以合并产生冲突，是因为我们进行合并时，我们的合并分支在我们准备合并前已发生变化（大多数情况下，是由于协同开发时，由于别人在我们进行合并之前，先进行了合并操作，导致我们再去合并时，已经发生了变化），因此我们需要根据冲突提升，找出冲突所在地，去解决冲突，在冲突文件中，Git用 &lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt;标记出不同分支的内容，我们需要对比找出需要删除和保留的代码，最后再将&lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt;这些符号删除，然后git add . ,git commit -m&#39;解决冲突&#39; ，即合并完成。 合并分支时，可禁用”Fast forward”模式 git merge --no-ff -m &quot;提交信息&quot; 分支名通常，合并分支时，如果可能，Git会用“Fast forward”模式，但这种模式下，删除分支后，会丢掉分支信息。如果要强制禁用“Fast forward”模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。--no-ff 参数，表示禁用“Fast forward”,因为禁用了“快速模式”，合并时要创建一个新的commit，所以加上-m参数，把commit描述写进去。 删除分支 git branch -d 分支名如果要丢弃一个没有被合并过的分支，可以通过 git branch -D 分支名 强行删除。 查看分支合并图 git log --graphBug 分支 在我们日常开发中，经常会遇到开发途中，遇到需要修复之前BUG的需求，很自然地，我们会到想创建一个分支来修复它，但是，当前正在dev上进行的工作还没有提交，并不是你不想提交，而是工作只进行到一半，还没法提交，预计完成还需1天时间。但是，必须在两个小时内修复该bug，怎么办？无法创建新的分支，怎么办？幸好，Git还提供了一个stash功能，可以把当前工作现场“储藏”起来，等以后恢复现场后继续工作： “暂存”工作区中的代码 git stash使用命令git stash 后，我们当前工作区的代码将被暂存起来（并不是git add 命令存入的那个暂存区）， 这时用 git status 查看工作区，就是干净的（除非有没有被Git管理的文件），因此可以放心地创建分支来修复bug。首先确定要在哪个支上修复bug，假定需要在master分支上修复，就从master创建临时分支： 切换分支git checkout master 创建并切换bug分支git checkout -b bug01 git add . 、git commit -m&#39;修复bug01&#39;修复完成后 切换到master分支，并完成合并，最后删除bug01分支： git checkout master git merge --no-ff -m &quot;合并bug1分支&quot; bug01 git branch -d bug01 OK! bug修复完成，是时候切换回dev分支接着干活了 git checkout dev git status通过查看状态发现，我们当前工作区是干净的，我们在修复bug之前写的代码去哪了？我们之前用 git stash把工作区的内容存在某个地方了，现在可以通过命令查看stash记录 查看stash记录 git stash list现在我们要把之前暂存的内容恢复回来，有两种方式 恢复stash内容 一是用 git stash apply 恢复，但是恢复后，stash内容并不删除，你需要用git stash drop 来删除； 另一种方式是用 git stash pop ，恢复的同时把stash内容也删了： 再用 git stash list查看，就看不到任何stash内容了 我们可以多次stash，恢复的时候，先用 git stash list 查看，然后恢复指定的stash，用命令： git stash apply stash@{id} 小结修复bug时，我们会通过创建新的bug分支进行修复，然后合并，最后删除；当手头工作没有完成时，先把⼯工作现场 git stash一下，然后去修复bug，修复后，再 gitstash pop ，回到工作现场。 远程仓库git多账号登陆问题设置git全局设置：git config --global user.name &quot;your_name&quot; git config --global user.email &quot;your_email&quot; 需要取消git的全局设置:git config --global --unset user.name git config --global --unset user.email 针对每个项目，单独设置用户名和邮箱，设置方法如下：git config user.name &quot;your_name&quot; git config user.email &quot;your_email&quot; 绑定远程仓库地址 要关联一个远程库，使用命令 git remote add origin 远程仓库地址（如：git@server-name:path/repo-name.git） ；关联后，使用命令 git push -u origin master 第一次推送master分⽀的所有内容；此后，每次本地提交后，只要有必要，就可以使用命令git push origin master 推送最新修改。 从远程库克隆要克隆一个仓库，首先必须知道仓库的地址，然后使用 git clone 远程库地址进行克隆。Git支持多种协议，包括https，但通过ssh支持的原生git协议速度最快。 Git支持多种协议，默认的git://使用ssh，但也可以使用https等其他协议。使用https除了速度慢以外，还有个最大的麻烦是每次推送都必须输入口令，但是在某些只开放http端口的公司内部就无法使用ssh协议而只能用https。 其他常用操作 查看远程库信息，使用 git remote -v； 本地新建的分支如果不推送到远程，对其他人就是不可见的； 从本地推送分支，使用 git push origin 分支名 ，如果推送失败，先用git pull orign 分支名抓取远程的新提交； 在本地创建和远程分支对应的分支，使用 git checkout -b 分支名 origin/分支名，本地和远程分支的名称最好一致； 建立本地分支和远程分支的关联，使用 git branch --set-upstream 分支名 origin/分支名 ； 从远程抓取分支，使用git pull ，如果有冲突，要先处理冲突。 参考：Git教程]]></content>
      <categories>
        <category>工具</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[windows10环境下安装RabbitMQ(图文步骤)]]></title>
    <url>%2F2018%2F07%2F31%2Fwindows10%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%AE%89%E8%A3%85RabbitMQ(%E5%9B%BE%E6%96%87%E6%AD%A5%E9%AA%A4)%2F</url>
    <content type="text"><![CDATA[记录下本人在win10环境下安装RabbitMQ的步骤，以作备忘。 第一步：下载并安装erlang 原因：RabbitMQ服务端代码是使用并发式语言Erlang编写的，安装Rabbit MQ的前提是安装Erlang。 下载地址：http://www.erlang.org/downloads 根据本机位数选择erlang下载版本。 下载完是这么个东西： 双击，点next就可以。 选择一个自己想保存的地方，然后next、finish就可以。 安装完事儿后要记得配置一下系统的环境变量。此电脑–&gt;鼠标右键“属性”–&gt;高级系统设置–&gt;环境变量–&gt;“新建”系统环境变量 变量名：ERLANG_HOME 变量值就是刚才erlang的安装地址，点击确定。 然后双击系统变量path 点击“新建”，将%ERLANG_HOME%\bin加入到path中。 最后windows键+R键，输入cmd，再输入erl，看到版本号就说明erlang安装成功了。 第二步：下载并安装RabbitMQ 下载地址：http://www.rabbitmq.com/download.html 双击下载后的.exe文件，安装过程与erlang的安装过程相同。 RabbitMQ安装好后接下来安装RabbitMQ-Plugins。打开命令行cd，输入RabbitMQ的sbin目录 我的目录是：D:\Program Files\RabbitMQ Server\rabbitmq_server-3.7.3\sbin 然后在后面输入enable rabbitmq_management```命令进行安装1234567如果```rabbitmq-plugins enable rabbitmq_management```使用报错如下 ![](http://pcqah8keq.bkt.clouddn.com/13.png) 请请使用```rabbitmq-plugins.bat enable rabbitmq_management 安装成功如下： 打开sbin目录，双击rabbitmq-server.bat 等几秒钟看到这个界面后，访问http://localhost:15672 然后可以看到如下界面 默认用户名和密码都是guest 登陆即可。 转自：https://blog.csdn.net/weixin_39735923/article/details/79288578]]></content>
      <categories>
        <category>工具</category>
      </categories>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python unicode和str拼接报错原因]]></title>
    <url>%2F2018%2F07%2F25%2FPython%20unicode%E5%92%8Cstr%E6%8B%BC%E6%8E%A5%E6%8A%A5%E9%94%99%E5%8E%9F%E5%9B%A0%2F</url>
    <content type="text"><![CDATA[首先来看一段代码 一、例子 123456789101112131415161718192021222324# -*- coding: utf-8 -*-a1 = u'你好'b1 = '中文' print(a1+b1) # 报错a2 = u'你好'b2 = '中文' + a.encode('utf-8')print(b2) # 正常输出type(b2) # stra3 = u'http'b3 = 'abc' + aprint(b3) # 正常输出type(b3) # unicode a1,a2,a3都是unicode对象，unicode是一种编码标准，具体的实现可能是utf-8，utf-16，gbk等等，这就是中文字符串和unicode有密切关系的原因。python内部使用两个字节存储一个unicode对象（unicode对象并不只能是字符串，这两个字节还可以存其他内容），为什么要用unicode而不用str呢，因为中文转码的缘故，因为unicode的优点是便于跨平台。 b1 是str对象，中文字符串。存储方式是字节码。字节码是怎么存的：如果这行代码在python解释器中输入&amp;运行，那么s的格式就是解释器的编码格式；如果这行代码是在源码文件中写入、保存然后执行，那么解释器载入代码时就将s初始化为文件指定编码(比如py文件开头那行的utf-8)； 下面这两种方式都是表示unicode对象 12s1 = u'中文' # s1: &lt;type 'unicode'&gt;s2 = unicode('中文', 'utf-8') # utf8是在指定解码方式, s2: &lt;type 'unicode'&gt; python解释器中 如果 将一个 普通字符串 和 unicode对象字符串 拼接，会默认将普通字符串 用decode(‘ascii’)解码成unicode对象。为什么是用 ascii的方式解码呢，因为这里用的是python的默认编码,也就是defaultencoding = ascii。 所以，如果这个普通字符串 包含中文的话，就会报错，因为用ascii码去解码中文是不够用的。(中文得用unicode解码)。 二、正确的str对象和unicode对象拼接方式只要注意正确的decode、encode方式，统一编码后就能顺利地拼接了。123456789101112# -*- coding: utf-8 -*- s1 = '中文's2 = u'你好'print s1 + unicode(s2, 'utf-8') # 中文你好print s1 + s2.decode('utf-8') # 中文你好print s1.encode('utf-8') + s2 # 中文你好 print type(s1) # &lt;type 'str'&gt;print type(s2) # &lt;type 'unicode'&gt;print type(s1.decode('utf-8')) # &lt;type 'unicode'&gt;print type(s2.encode('utf-8')) # &lt;type 'str'&gt; 对于str要注意当前环境编码方式，也许是控制台那种设定好了的，也许是你自己在代码中指定的。对于unicode对象，一般都是decode得到的，像直接【u’你好’】这种其实不是很常见，所以要注意字符串来源是什么编码，比如从gbk文件或utf8文件中读入的。 参考自： https://blog.csdn.net/index20001/article/details/78974814 https://blog.csdn.net/qq_31739317/article/details/75257726]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>编码</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python时间格式转换(时间戳、日期、时间、字符串)]]></title>
    <url>%2F2018%2F07%2F24%2FPython%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2(%E6%97%B6%E9%97%B4%E6%88%B3%E3%80%81%E6%97%A5%E6%9C%9F%E3%80%81%E6%97%B6%E9%97%B4%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2)%2F</url>
    <content type="text"><![CDATA[在工作中我们常会对时间戳以及日期时间等格式进行转换，下面介绍了一些常用的Python时间的转换方法，方便以后查询 一、str类型的日期转换为时间戳1234567891011121314# -*- coding: utf-8 -*-import timefrom datetime import datetimetss1 = '2013-10-10 23:40:00'# 转为时间数组timeArray = time.strptime(tss1, "%Y-%m-%d %H:%M:%S")# timeArray可以调用tm_year等print timeArray # time.struct_time# 转为时间戳timeStamp = int(time.mktime(timeArray))print timeStamp # 1381419600 二、时间戳转换:10位（秒级）和13位（毫秒级）时间戳123456789101112131415161718# -*- coding: utf-8 -*-import timefrom datetime import datetimenow_timestamp = time.time()print 'now_timestamp', now_timestamp, type(now_timestamp)# now_timestamp 1532447792.62 &lt;type 'float'&gt;seconds = int(now_timestamp)print '10位秒级', seconds# 10位秒级 1532447792millis1 = int(round(now_timestamp * 1000))print '13位毫秒级1', millis1, type(millis1)# 13位毫秒级1 1532447792615 &lt;type 'long'&gt;millis2 = '%.f' % (now_timestamp * 1000)print '13位毫秒级2', millis2, type(millis2)# 13位毫秒级2 1532447792615 &lt;type 'str'&gt; 三、更改str类型日期的显示格式1234567891011121314# -*- coding: utf-8 -*-import timefrom datetime import datetimetss2 = "2013-10-10 23:40:00"# 转为数组timeArray = time.strptime(tss2, "%Y-%m-%d %H:%M:%S")# 转为其它格式otherStyleTime = time.strftime("%Y/%m/%d %H:%M:%S", timeArray)print otherStyleTime # 2013/10/10 23:40:00tss3 = "2013/10/10 23:40:00"timeArray = time.strptime(tss3, "%Y/%m/%d %H:%M:%S")otherStyleTime = time.strftime("%Y-%m-%d %H:%M:%S", timeArray)print otherStyleTime # 2013-10-10 23:40:00 四、时间戳转换为指定格式的日期12345678910111213141516171819# -*- coding: utf-8 -*-import timefrom datetime import datetime# 使用timetimeStamp = 1381419600timeArray = time.localtime(timeStamp)print timeArray # time.struct_timeotherStyleTime = time.strftime("%Y--%m--%d %H:%M:%S", timeArray)print otherStyleTime # 2013--10--10 23:40:00# 使用datetimeutc_data = datetime.utcfromtimestamp(now_timestamp)print 'utc时间', utc_data, type(utc_data)# utc时间 2018-07-24 15:59:49.501000 &lt;type 'datetime.datetime'&gt;local_data = datetime.fromtimestamp(now_timestamp)print 'local时间', local_data, type(local_data)# local时间 2018-07-24 23:59:49.501000 &lt;type 'datetime.datetime'&gt; 五、时间戳转换为指定格式的日期123456789101112131415# -*- coding: utf-8 -*-import timefrom datetime import datetime# 获取当前时间戳now = int(time.time())timeArray = time.localtime(now)otherStyleTime = time.strftime("%Y--%m--%d %H:%M:%S", timeArray)print otherStyleTime # 2018--07--24 23:59:49# 获取当前时间，数组格式now = datetime.now()otherStyleTime = now.strftime("%Y--%m--%d %H:%M:%S")print otherStyleTime # 2018--07--24 23:59:49 六、获取本地时区当天0点时间戳和时间的一种方法123456789# -*- coding: utf-8 -*-import timefrom datetime import datetime# 方法1print time.mktime(datetime.now().date().timetuple()) # 1532534400.0today = datetime.today()# 方法2print datetime(today.year, today.month, today.day, 0, 0, 0) # 2018-07-26 00:00:00]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>时间</tag>
      </tags>
  </entry>
</search>
